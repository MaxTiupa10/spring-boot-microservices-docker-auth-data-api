# üöÄ Microservices Auth & Data Processing System

–¶–µ–π –ø—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å–Ω—É –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É –Ω–∞ –±–∞–∑—ñ **Spring Boot**, —Ä–µ–∞–ª—ñ–∑—É—é—á–∏ –±–µ–∑–ø–µ—á–Ω—É –≤–∑–∞—î–º–æ–¥—ñ—é –º—ñ–∂ —Å–µ—Ä–≤—ñ—Å–∞–º–∏, JWT-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—é —Ç–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ª–æ–≥—ñ–≤ —É **PostgreSQL**. –í—Å—è —Å–∏—Å—Ç–µ–º–∞ –æ—Ä–∫–µ—Å—Ç—Ä—É—î—Ç—å—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é **Docker Compose**.

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫

* **Java 17** (Amazon Corretto)
* **Spring Boot 3.2** (Web, Security, Data JPA)
* **PostgreSQL** (Database)
* **Docker & Docker Compose** (Containerization)
* **JWT (JSON Web Token)** (Authentication)
* **Maven** (Build Tool)

---

## üèó –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

–°–∏—Å—Ç–µ–º–∞ —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ –¥–≤–æ—Ö –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å—ñ–≤ —Ç–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö:

1.  **Auth API (Service A)** `Port: 8080`
    * –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ç–∞ –ª–æ–≥—ñ–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (JWT).
    * –ó–∞—Ö–∏—â–µ–Ω–∏–π –µ–Ω–¥–ø–æ—ñ–Ω—Ç `/api/process`.
    * –í–∏—Å—Ç—É–ø–∞—î –∫–ª—ñ—î–Ω—Ç–æ–º –¥–ª—è Data API.
    * –ó–±–µ—Ä—ñ–≥–∞—î —ñ—Å—Ç–æ—Ä—ñ—é –∑–∞–ø–∏—Ç—ñ–≤ —É –ë–î.

2.  **Data API (Service B)** `Port: 8081`
    * –í–∏–∫–æ–Ω—É—î –æ–±—Ä–æ–±–∫—É –¥–∞–Ω–∏—Ö (—Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—é —Ç–µ–∫—Å—Ç—É).
    * –ü—Ä–∏–π–º–∞—î –∑–∞–ø–∏—Ç–∏ **—Ç—ñ–ª—å–∫–∏** –≤—ñ–¥ Auth API (–ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–µ—Ä–µ–∑ `X-Internal-Token`).

3.  **PostgreSQL** `Port: 5432`
    * –¢–∞–±–ª–∏—Ü—è `users`: –∑–±–µ—Ä—ñ–≥–∞—î –æ–±–ª—ñ–∫–æ–≤—ñ –∑–∞–ø–∏—Å–∏.
    * –¢–∞–±–ª–∏—Ü—è `processing_log`: –∑–±–µ—Ä—ñ–≥–∞—î —ñ—Å—Ç–æ—Ä—ñ—é –æ–ø–µ—Ä–∞—Ü—ñ–π.

---

## üöÄ –Ø–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –ø—Ä–æ–µ–∫—Ç

–í–∞–º –∑–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π **Docker Desktop**.

1.  **–ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π:**
    ```bash
    git clone [https://github.com/–í–ê–®_–ù–Ü–ö–ù–ï–ô–ú/–ù–ê–ó–í–ê_–†–ï–ü–û–ó–ò–¢–û–†–Ü–Æ.git](https://github.com/–í–ê–®_–ù–Ü–ö–ù–ï–ô–ú/–ù–ê–ó–í–ê_–†–ï–ü–û–ó–ò–¢–û–†–Ü–Æ.git)
    cd –ù–ê–ó–í–ê_–†–ï–ü–û–ó–ò–¢–û–†–Ü–Æ
    ```

2.  **–ó–±–µ—Ä—ñ—Ç—å JAR —Ñ–∞–π–ª–∏:**
    *(–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ü—é –∫–æ–º–∞–Ω–¥—É, —è–∫—â–æ —É –≤–∞—Å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π Maven, –∞–±–æ —á–µ—Ä–µ–∑ IntelliJ IDEA)*
    ```bash
    mvn clean package -DskipTests
    ```

3.  **–ó–∞–ø—É—Å—Ç—ñ—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏:**
    ```bash
    docker-compose up -d --build
    ```

---

## üì∏ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è —Ä–æ–±–æ—Ç–∏

### 1. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤
–í—Å—ñ —Å–µ—Ä–≤—ñ—Å–∏ (`auth-api`, `data-api`, `postgres`) —É—Å–ø—ñ—à–Ω–æ –ø—ñ–¥–Ω—è—Ç—ñ —Ç–∞ –ø—Ä–∞—Ü—é—é—Ç—å –≤ –æ–¥–Ω—ñ–π –º–µ—Ä–µ–∂—ñ.

![–°–∫—Ä—ñ–Ω—à–æ—Ç Docker Desktop –∞–±–æ –∫–æ–º–∞–Ω–¥–∏ docker ps](<img width="2080" height="182" alt="–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è" src="https://github.com/user-attachments/assets/5943fe2b-ae96-49d4-a011-444065d271b2" />
)
*–ù–∞ —Å–∫—Ä—ñ–Ω—à–æ—Ç—ñ –≤–∏–¥–Ω–æ —Å—Ç–∞—Ç—É—Å "Running" –¥–ª—è –≤—Å—ñ—Ö —Ç—Ä—å–æ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤.*

---

### 2. –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ç–∞ –ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è (Postman)
**–ö—Ä–æ–∫ 1: –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞**
`POST http://localhost:8080/api/auth/register`

![–°–∫—Ä—ñ–Ω—à–æ—Ç —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó](<img width="1916" height="829" alt="–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è" src="https://github.com/user-attachments/assets/7505e230-5d2a-446a-b9a1-2370ab9cba8f" />
)

**–ö—Ä–æ–∫ 2: –õ–æ–≥—ñ–Ω —Ç–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è JWT**
`POST http://localhost:8080/api/auth/login`

![–°–∫—Ä—ñ–Ω—à–æ—Ç –ª–æ–≥—ñ–Ω—É](<img width="1890" height="870" alt="–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è" src="https://github.com/user-attachments/assets/4abf668f-cdaf-4f19-8a4d-4c582b3b05c3" />
)
*–û—Ç—Ä–∏–º–∞–Ω–æ Bearer —Ç–æ–∫–µ–Ω –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ –∑–∞—Ö–∏—â–µ–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤.*

---

### 3. –ú—ñ–∂—Å–µ—Ä–≤—ñ—Å–Ω–∞ –≤–∑–∞—î–º–æ–¥—ñ—è
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î —Ç–µ–∫—Å—Ç –Ω–∞ Service A -> Service A –ø–µ—Ä–µ—Å–∏–ª–∞—î –π–æ–≥–æ –Ω–∞ Service B -> –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –∫–ª—ñ—î–Ω—Ç—É.

**–ó–∞–ø–∏—Ç:**
`POST http://localhost:8080/api/process`
**Header:** `Authorization: Bearer <YOUR_TOKEN>`

![–°–∫—Ä—ñ–Ω—à–æ—Ç —É—Å–ø—ñ—à–Ω–æ—ó –æ–±—Ä–æ–±–∫–∏](<img width="1904" height="1020" alt="–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è" src="https://github.com/user-attachments/assets/e1ad583d-2094-4001-98cf-6f07d3ddd181" />
)
*–í—ñ–¥–ø–æ–≤—ñ–¥—å: –¢–µ–∫—Å—Ç —É—Å–ø—ñ—à–Ω–æ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–æ–≤–∞–Ω–æ (—Ä–µ–≤–µ—Ä—Å + –≤–µ—Ä—Ö–Ω—ñ–π —Ä–µ–≥—ñ—Å—Ç—Ä).*

---

### 4. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
–ó–∞–ø–∏—Å –ø—Ä–æ –æ–ø–µ—Ä–∞—Ü—ñ—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–µ—Ä–µ–∂–µ–Ω–æ –≤ —Ç–∞–±–ª–∏—Ü—é `processing_log`.

![–°–∫—Ä—ñ–Ω—à–æ—Ç –∑ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö](<img width="2046" height="528" alt="–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è" src="https://github.com/user-attachments/assets/311fa9b3-c714-4053-b232-c23e4a0c3b75" />
)
*–í–∏–¥–Ω–æ ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, –≤—Ö—ñ–¥–Ω–∏–π —Ç–µ–∫—Å—Ç —Ç–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.*

---

## üì° API Reference

#### Auth API

| Method | Endpoint | Description | Auth Required |
| :--- | :--- | :--- | :--- |
| `POST` | `/api/auth/register` | –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ | ‚ùå |
| `POST` | `/api/auth/login` | –û—Ç—Ä–∏–º–∞—Ç–∏ JWT —Ç–æ–∫–µ–Ω | ‚ùå |
| `POST` | `/api/process` | –í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ —Ç–µ–∫—Å—Ç –Ω–∞ –æ–±—Ä–æ–±–∫—É | ‚úÖ (Bearer Token) |

#### Data API (Internal)

| Method | Endpoint | Description | Auth Required |
| :--- | :--- | :--- | :--- |
| `POST` | `/api/transform` | –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º—É–≤–∞—Ç–∏ —Ç–µ–∫—Å—Ç | ‚úÖ (Internal Token) |
